# 25ì¥ í´ë˜ìŠ¤

# ë©”ì„œë“œ

---

## constructor method

<aside>
ğŸ’¡

ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°í™”í•˜ê¸° ìœ„í•œ íŠ¹ìˆ˜í•œ ë©”ì„œë“œ

</aside>

### ì„ ì–¸ ë°©ì‹

```jsx
class Person {
  constructor(name) {
    this.name = name;
  }
}
```

- classë„ ìƒì„±ì í•¨ìˆ˜ ì·¨ê¸‰ì´ê¸°ì— prototype propertyì˜ constructorëŠ” í•´ë‹¹ classê°€ ëœë‹¤
- prototype methodì™€ ë‹¤ë¥´ê²Œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ëŠ” contructor methodë¥¼ ë“¤ê³ ìˆì§€ ì•Šë‹¤.
- ì—¬ëŸ¬ê°œ ì“°ë©´? â†’ syntax error
- ì•„ì˜ˆ ì•ˆì“°ë©´? â†’ ê¸°ë³¸ constructor( ) { } ìƒì„±
- this ë°”ì¸ë”©
  - í•´ë‹¹ í´ë˜ìŠ¤ë¡œ ìƒì„±í•  ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”© ëœë‹¤.
- ë°˜í™˜ê°’ìœ¼ë¡œ ê°ì²´ë¥¼ ì£¼ë©´, thisê°€ ì•„ë‹Œ í•´ë‹¹ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.

```jsx
class Person {
  constructor(name) {
    this.name = name;
    return {};
  }
}
const me = new Person("Lee");
console.log(me); // {}
```

## prototype method

<aside>
ğŸ’¡

prototypeì— ì¶”ê°€í•˜ëŠ” ë©”ì„œë“œ

</aside>

- ìƒì„±ì í•¨ìˆ˜ëŠ” prototypeì— ì§ì ‘ ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ì•¼í•¨
- classì˜ ê²½ìš° ëª¸ì²´ì— ì¼ë°˜ì ìœ¼ë¡œ ì •ì˜í•œ ë©”ì„œë“œê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë¨

```jsx
class Person {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    console.log(`Hi! ${this.name}`);
  }
}

const me = new Person("Lee");
me.sayHi();
```

- this ë°”ì¸ë”©
  - í˜¸ì¶œí•œ ê°ì²´ì´ê¸°ì— ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ê°€ ë¨

## static method

<aside>
ğŸ’¡

í•¨ìˆ˜ ìì²´ì—ì— ì¶”ê°€ë  ì •ì  ë©”ì„œë“œ

</aside>

### ì„ ì–¸ë°©ì‹

```jsx
class Person {
  constructor(name) {
    this.name = name;
  }

  static sayHi() {
    console.log(`Hi!`);
  }
}
Person.sayHi(); // Hi!
```

- classì— ì¶”ê°€ë˜ëŠ” ë©”ì„œë“œê¸°ì—, classë¥¼ ì´ìš©í•´ì„œ í˜¸ì¶œí•´ì•¼ í•œë‹¤
- this ë°”ì¸ë”©
  - ì •ì  ë©”ì„œë“œëŠ” classë¥¼ ì´ìš©í•˜ì—¬ ì ‘ê·¼í•˜ê¸°ì— í˜¸ì¶œí•œ ê°ì²´ì¸ class ìì²´ê°€ ë°”ì¸ë”©ë¨

## í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ ë©”ì„œë“œì˜ ê³µí†µ íŠ¹ì§•

1. function í‚¤ì›Œë“œë¥¼ ìƒëµí•˜ê³  ì‚¬ìš©í•œë‹¤
2. ê°ì²´ ë¦¬í„°ëŸ´ê³¼ ë‹¤ë¥´ê²Œ ( , )ê°€ í•„ìš”ì—†ë‹¤
3. ì•”ë¬µì ìœ¼ë¡œ strict modeë¡œ ì‹¤í–‰ëœë‹¤
4. í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì¸ [[Enumerable]]ì´ falseê¸° ë•Œë¬¸ì— ì—´ê±°ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
5. ë‚´ë¶€ ë©”ì„œë“œ [[Construct]]ê°€ ì—†ê¸° ë•Œë¬¸ì— newë¥¼ ì´ìš©í•œ ìƒì„±ìë¡œ ì“¸ ìˆ˜ ì—†ë‹¤

## í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

1. ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ this ë°”ì¸ë”©
2. ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
3. ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

# í”„ë¡œí¼í‹°

---

## ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°

- constructor ë‚´ë¶€ì—ì„œ ì •ì˜í•œ í”„ë¡œí¼í‹°ë§Œì´ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ê°€ ëœë‹¤
- ì ‘ê·¼ ì œí•œìê°€ ë”±íˆ ì—†ê¸°ì—, publicí•˜ê²Œ ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.

```jsx
class Person {
  constructor(name) {
    this.name = name; // ì´ê±´ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì— ì¶”ê°€ë¨
  }

  sayHi() {
    // ì´ê±´ prototypeêº¼
    console.log(`Hi! ${this.name}`);
  }
}
```

## ì ‘ê·¼ì í”„ë¡œí¼í‹°

- classì—ì„œë„ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ ì“¸ ìˆ˜ ìˆìœ¼ë‚˜, ì¸ìŠ¤í„´ìŠ¤ì— ë„£ëŠ”ê±´ ì¼ë°˜ì ì´ì§€ ì•Šë‹¤ (thisë§Œìœ¼ë¡œ ë„£ê¸° í˜ë“¬)
- í”„ë¡œí† íƒ€ì…ì— ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•´ì„œ ì“´ë‹¤

### ì„ ì–¸ ë°©ì‹

```jsx
class Person {
	constructor(firstName, lastName) {
		this.firstName = firstName;
		this.lastName = lastName;
	}

	get fullName() { // ì´ê±´ prototype êº¼
		return `${this.firstName} ${this.lastName}`;
	}

	set fullName() { // ì´ê±°ë„ prototypeêº¼
		[this.firstName, this.lastName] = name.split(' ');
	}
}

const me = new Person('aaa', 'K');
console.log(me.fullName); // SG K
me.fullName = 'aaa aa'
console.log(me.fullName); // aaa aa
```

## í´ë˜ìŠ¤ í•„ë“œ ì •ì˜ (ì•„ì§ stage 3)

- ì¼ë°˜ì ì¸ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¥¼ ë“±ë¡í•˜ë ¤ë©´ constructorì—ì„œ ì§„í–‰í•´ì•¼í•¨
- ìƒˆë¡œìš´ ê¸°ëŠ¥! í´ë˜ìŠ¤ í•„ë“œì—ì„œ ì •ì˜í•˜ì

```jsx
class Person {
  name = "Lee";
}
const me = new Person();
console.log(me.name); // Lee
```

## private í•„ë“œ ì •ì˜ (ì•„ì§ stage 3)

- JSëŠ” ì ‘ê·¼ ì œí•œìê°€ ì¡´ì¬í•˜ì§€ ì•Šë‹¤ â†’ ê·¸ë˜ë„ privateìœ¼ë¡œ ì“°ê³ ì‹¶ë‹¤
- #ì„ ì•ì— ë¶™ì—¬ì„œ ì„ ì–¸ â†’ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€

```jsx
class Person {
  #name = "";
  constructor(name) {
    this.#name = name;
  }

  get name() {
    return this.#name.trim();
  }
}
const me = new Person("Lee");
console.log(me.#name); // ì ‘ê·¼ ë¶ˆê°€
console.log(me.name); // Lee
```

- ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•œ ì ‘ê·¼ì€ ê°€ëŠ¥ â†’ ë‚´ë¶€ë¡œ ì ‘ê·¼í•˜ëŠ”ê±°ë¼ì„œ

## static í•„ë“œ ì •ì˜ (ì•„ì§ stage 3)

- static í‚¤ì›Œë“œë¥¼ ì´ìš©í•˜ì—¬ ì •ì  í•„ë“œ ì„ ì–¸ ê°€ëŠ¥

# ìƒì†ì— ì˜í•œ í´ë˜ìŠ¤ í™•ì¥

---

## Extends í‚¤ì›Œë“œ

```jsx
class Base {}
class Derived extends Base {}
```

- ìƒì†ì„ í•˜ê¸° ìœ„í•´ì„œ ì“°ëŠ” í‚¤ì›Œë“œ
- ìƒì†ì„ í†µí•´ í™•ì¥ëœ í´ë˜ìŠ¤ë¥¼ ì„œë¸Œí´ë˜ìŠ¤, ìƒì†ëœ í´ë˜ìŠ¤ë¥¼ ìˆ˜í¼í´ë˜ìŠ¤ë¼ê³  ë¶€ë¥¸ë‹¤.
- ìƒì†ì„ í†µí•´ í™•ì¥í•˜ë©´, í´ë˜ìŠ¤ì™€ í•´ë‹¹ í´ë˜ìŠ¤ì˜ prototype ëª¨ë‘ ì²´ì¸ì— ë“¤ì–´ê°„ë‹¤

![image.png](4a510e37-6e68-43c6-8f04-c4f14e597444.png)

## ë™ì  ìƒì†

- ìƒì„±ì í•¨ìˆ˜ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ìˆë‹¤ (í´ë˜ìŠ¤ë„ í•¨ìˆ˜!)

```jsx
function Base(a) {
  this.a = a;
}
class Derived extends Base {}
const derived = new Derived(1);
console.log(derived.a); // 1
```

- ë™ì ìœ¼ë¡œ ìƒì†ë°›ì„ ê°ì²´ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤

```jsx
class Derived extends (condition ? Base1 : Base2) {}
```

## ì„œë¸Œí´ë˜ìŠ¤ì˜ constructor & super í‚¤ì›Œë“œ

- ì„œë¸Œ í´ë˜ìŠ¤ì˜ ìƒì„±ìëŠ” ìë™ì ìœ¼ë¡œ ìˆ˜í¼ í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê²Œ ëœë‹¤.

```jsx
class Derived extends Base {
  // constructor(...args) { super(...args); }
}
```

- super í‚¤ì›Œë“œë¥¼ ì´ìš©í•˜ë©´ ì„œë¸Œ í´ë˜ìŠ¤ì˜ ìƒì„±ìì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- ì•ˆì“°ë©´ ì—ëŸ¬ê°€ ëœ¬ë‹¤ (í•„ìˆ˜ì„)
- superë¥¼ ì“°ê¸° ì „ê¹Œì§€ thisë¥¼ ì°¸ì¡° í•  ìˆ˜ ì—†ë‹¤
- ìƒì„±ìì—ì„œë§Œ superë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê³ , ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì—ëŸ¬ê°€ ëœ¬ë‹¤

```jsx
class Derived extends Base {
  constructor(a, b, c) {
    super(a, b);
    this.c = c;
  }
}
```

- superë¥¼ ì°¸ì¡°í•˜ë©´ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
- ìë™ì ìœ¼ë¡œ í˜¸ì¶œí•œ ì¸ìŠ¤í„´ìŠ¤ë¡œ thisê°€ ë°”ì¸ë”©ëœë‹¤.
- [[HomeObject]] : ë©”ì„œë“œ ìì‹ ì„ ë°”ì¸ë‹¹í•˜ê³  ìˆëŠ” ê°ì²´ë¥¼ ì˜ë¯¸

```jsx
class Base {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    return `Hi ${this.name}`;
  }
}

class Derived extends Base {
  sayHi() {
    return `${super.sayHi()}`;
  }
}
```

- ES6ì—ì„œ ì •ì˜ëœ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ í•¨ìˆ˜ì—ì„œë„ superê°€ í˜¸ì¶œ ê°€ëŠ¥í•˜ë‹¤ (function í‚¤ì›Œë“œ ì•ˆì“°ëŠ”ê±°)

## ìƒì† í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

1. ì„œë¸Œ í´ë˜ìŠ¤ì˜ super í˜¸ì¶œ
   - ìƒì† ë°›ëŠ” í´ë˜ìŠ¤ì˜ ê²½ìš° ë‚´ë¶€ ìŠ¬ë¡¯ [[ConstructorKind]]ê°€ derivedë¡œ ì„¤ì •ë˜ì–´ìˆë‹¤ (ê¸°ë³¸ì€ base)
   - ì´ë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •ì—ì„œ ì°¨ì´ë¥¼ ë‘”ë‹¤
     - ì„œë¸Œ í´ë˜ìŠ¤ì˜ ê²½ìš° super í´ë˜ìŠ¤ì—ê²Œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ìœ„ì„í•œë‹¤
2. ìˆ˜í¼ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ this ë°”ì¸ë”©
   - new.targetì„ í˜¸ì¶œí•˜ë©´ new í‚¤ì›Œë“œë¥¼ ì´ìš©í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë°”ì¸ë”©ë˜ì–´ìˆë‹¤.
3. ìˆ˜í¼ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
   - ìˆ˜í¼ í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ ì´ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤
4. ì„œë¸Œ í´ë˜ìŠ¤ì˜ constructorë¡œì˜ ë³µê·€ì™€ this ë°”ì¸ë”©
   - ì„œë¸Œ í´ë˜ìŠ¤ì˜ constructorë¡œ ëŒì•„ì˜¤ë©° ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ thisì— ë°”ì¸ë”©í•œë‹¤
5. ì„œë¸Œ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
6. ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

## í‘œì¤€ ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ í™•ì¥

- ìƒì„±ì í•¨ìˆ˜ë¡œì¨ ì“°ì´ëŠ” ëª¨ë“  í•¨ìˆ˜ë¥¼ í™•ì¥ì— ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤
  - ex) Array
- ê·¸ëŸ¬ë©´ ìƒì†í•  ìƒì„±ì í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ìˆëŠ” ìš”ì†Œë“¤ì„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤

```jsx
class MyArray extends Array {}
const myArray = new MyArray(1, 1, 2, 3);
console.log(
  myArray
    .filter((v) => v % 2)
    .unique()
    .average()
);
```

- ë§Œì•½ MyArrayê°€ ì•„ë‹Œ ìƒì†ë°›ì€ Arrayë¡œ ë°˜í™˜í•˜ê³  ì‹¶ìœ¼ë©´ Symbol.speciesë¥¼ ì“°ë©´ëœë‹¤

```jsx
class MyArray extends Array {
  static get [Symbol.species]() {
    return Array;
  }
}
```
